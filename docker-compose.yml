services:
  postgresql:
    build:
      context: docker
    environment:
      - POSTGRES_PASSWORD
    networks:
      - database
      - traefik
    restart: always
    volumes:
      - postgresql:/var/lib/postgresql/data
      - ./backups:/var/backups

networks:
  database:
    name: postgresql
    external: false
  traefik:
    external: true

volumes:
  postgresql:
